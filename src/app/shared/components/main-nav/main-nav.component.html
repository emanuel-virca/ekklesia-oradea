<mdc-app-bar #demoappbar [fixedAdjustElement]="mainContent">
  <mdc-app-bar-row *ngIf="!showSearch">
    <mdc-app-bar-section align="start" title="Ekklesia"></mdc-app-bar-section>
    <mdc-app-bar-section align="end">
      <mdc-icon mdcAppBarNavIcon (click)="onStartSearch()">search</mdc-icon>
      <mdc-menu-anchor #demoanchor *ngIf="user | async as user; else showLogin">
        <button mdc-fab mini label="{{ getInitials(user.displayName) }}" (click)="usermenu.open()"></button>
        <mdc-menu #usermenu [anchor]="demoanchor">
          <mdc-menu-item id="0" (click)="signOut()">Logout</mdc-menu-item>
        </mdc-menu>
      </mdc-menu-anchor>
      <ng-template #showLogin>
        <mdc-icon mdcAppBarNavIcon (click)="signIn()">person</mdc-icon>
      </ng-template>
    </mdc-app-bar-section>
  </mdc-app-bar-row>
  <mdc-app-bar-row *ngIf="showSearch">
    <mdc-app-bar-section>
      <app-resources-search class="search-form"></app-resources-search>    
      <mdc-icon mdcAppBarNavIcon (click)="onStopSearch()">clear</mdc-icon>
    </mdc-app-bar-section>
  </mdc-app-bar-row>
</mdc-app-bar>